{% extends "base.html" %}

{% block title %}Ausflug - Dashboard{% endblock %}

{% block content %}
<div class="space-y-6">
  <div class="flex justify-between items-end">
    <div>
      <h1 class="text-4xl font-bold tracking-tight text-gray-900 mb-2 font-heading">Your Trips</h1>
      <p class="text-gray-500">Manage and view your planned excursions.</p>
    </div>
  </div>

  {% if trips %}
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {% for trip in trips %}
    <a href="{{ url_for('main.plan_trip', trip_id=trip.id) }}" class="group block">
      <div
        class="glass-panel p-6 h-full transition-transform duration-300 transform group-hover:-translate-y-1 group-hover:shadow-2xl border border-gray-100/50">
        <div class="flex justify-between items-start mb-4">
          <div class="p-3 bg-blue-50 text-blue-600 rounded-xl">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
          </div>
          {% if trip.responses > 0 %}
          <span
            class="inline-flex items-center bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300">
            {{ trip.responses }} response{{ 's' if trip.responses != 1 else '' }}
          </span>
          {% else %}
          <span
            class="inline-flex items-center bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded-full">
            No responses yet
          </span>
          {% endif %}
        </div>
        <h2 class="text-xl font-bold text-gray-900 mb-1 group-hover:text-blue-600 transition-colors">{{ trip.name }}
        </h2>
        <p class="text-sm text-gray-500 mb-4">ID: <span class="font-mono text-xs bg-gray-100 px-1 py-0.5 rounded">{{
            trip.id[:8] }}...</span></p>
        <div class="flex items-center text-sm font-medium text-blue-600 group-hover:underline">
          View Details
          <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </div>
      </div>
    </a>
    {% endfor %}

    <!-- Create New Card -->
    <a href="{{ url_for('main.create_trip') }}"
      class="group block border-2 border-dashed border-gray-300 rounded-2xl p-6 h-full flex flex-col items-center justify-center text-center hover:border-blue-500 hover:bg-blue-50/50 transition-all">
      <div
        class="p-4 bg-gray-100 rounded-full mb-3 group-hover:bg-blue-100 group-hover:text-blue-600 transition-colors">
        <svg class="w-6 h-6 text-gray-500 group-hover:text-blue-600" fill="none" stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
        </svg>
      </div>
      <span class="font-semibold text-gray-900">Plan a New Trip</span>
      <span class="text-sm text-gray-500 mt-1">Start a new adventure</span>
    </a>
  </div>
  {% else %}
  <div class="text-center py-20">
    <h2 class="text-2xl font-semibold text-gray-700 mb-2">No trips found</h2>
    <p class="text-gray-500 mb-8">Get started by planning your first group trip.</p>
    <a href="{{ url_for('main.create_trip') }}" class="btn-primary">
      Create First Trip
    </a>
  </div>
  {% endif %}
</div>
{% endblock %}